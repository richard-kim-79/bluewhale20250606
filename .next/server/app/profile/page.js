(()=>{var e={};e.id=178,e.ids=[178],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},2225:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>d}),t(5282),t(8586),t(5866);var s=t(3191),a=t(8716),l=t(7922),i=t.n(l),n=t(5231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(r,o);let d=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5282)),"/Users/richard_kim/bluewhale/bluewhale20250606/frontend/src/app/profile/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,8586)),"/Users/richard_kim/bluewhale/bluewhale20250606/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/richard_kim/bluewhale/bluewhale20250606/frontend/src/app/profile/page.tsx"],x="/profile/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7084:(e,r,t)=>{Promise.resolve().then(t.bind(t,1144))},1144:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var s=t(326),a=t(7577),l=t(5047),i=t(4001),n=t(1471),o=t(434),d=t(1212);function c(){let e=(0,l.useRouter)(),{user:r,isAuthenticated:t,loading:c,logout:x}=(0,i.a)(),[m,u]=(0,a.useState)([]),[h,p]=(0,a.useState)([]),[f,g]=(0,a.useState)(!0),[b,j]=(0,a.useState)("content"),w=async e=>{if(window.confirm("정말로 이 콘텐츠를 삭제하시겠습니까?"))try{await n.gT.deleteContent(e);let r=await n.gT.getUserContent();u(r.data)}catch(e){console.error("Error deleting content:",e),alert("콘텐츠 삭제 중 오류가 발생했습니다.")}};return c||f?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-whale-600"})}):s.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[(0,s.jsxs)("div",{className:"mb-4 md:mb-0",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"내 프로필"}),s.jsx("p",{className:"text-gray-600",children:r?.email})]}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[s.jsx(o.default,{href:"/create",className:"btn-primary",children:"새 콘텐츠 작성"}),s.jsx(o.default,{href:"/profile/edit",className:"btn-secondary",children:"프로필 수정"}),s.jsx("button",{onClick:()=>{x(),e.push("/")},className:"btn-outline",children:"로그아웃"})]})]}),s.jsx("div",{className:"mt-8 border-b border-gray-200",children:(0,s.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[s.jsx("button",{onClick:()=>j("content"),className:`${"content"===b?"border-blue-whale-500 text-blue-whale-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"내가 작성한 콘텐츠"}),s.jsx("button",{onClick:()=>j("saved"),className:`${"saved"===b?"border-blue-whale-500 text-blue-whale-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"저장한 콘텐츠"}),s.jsx("button",{onClick:()=>j("following"),className:`${"following"===b?"border-blue-whale-500 text-blue-whale-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"팔로잉"})]})}),s.jsx("div",{className:"mt-6",children:"following"===b?s.jsx(s.Fragment,{children:r?.id&&s.jsx(d.Z,{userId:r.id})}):"content"===b?s.jsx(s.Fragment,{children:m.length>0?s.jsx("div",{className:"space-y-4",children:m.map(e=>(0,s.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow p-4",children:[s.jsx(o.default,{href:`/content/${e.id}`,children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 hover:text-blue-whale-600",children:e.title}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"})}),s.jsx("p",{className:"mt-2 text-sm text-gray-600 line-clamp-2",children:e.summary})]}),(0,s.jsxs)("div",{className:"flex flex-col items-end",children:[s.jsx("div",{className:`${"pdf"===e.type?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"} px-2 py-1 rounded-full text-xs font-medium`,children:"pdf"===e.type?"PDF":"TEXT"}),(0,s.jsxs)("div",{className:"mt-2 flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-1 text-blue-600",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z"})}),s.jsx("span",{className:"text-xs text-blue-600",children:e.aiScore})]}),e.hasLocation&&(0,s.jsxs)("div",{className:"mt-1 flex items-center",children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-1 text-gray-500",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"})]}),s.jsx("span",{className:"text-xs text-gray-500",children:"위치 정보"})]})]})]})}),(0,s.jsxs)("div",{className:"mt-4 flex justify-end space-x-2",children:[s.jsx(o.default,{href:`/content/${e.id}/edit`,className:"text-sm text-gray-600 hover:text-blue-whale-600",children:"수정"}),s.jsx("button",{onClick:()=>w(e.id),className:"text-sm text-red-600 hover:text-red-800",children:"삭제"})]})]},e.id))}):(0,s.jsxs)("div",{className:"text-center py-12",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"작성한 콘텐츠가 없습니다"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"새로운 콘텐츠를 작성해보세요."}),s.jsx("div",{className:"mt-6",children:s.jsx(o.default,{href:"/create",className:"btn-primary",children:"새 콘텐츠 작성"})})]})}):(0,s.jsxs)("div",{className:"text-center py-12",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"저장한 콘텐츠가 없습니다"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"관심 있는 콘텐츠를 저장해보세요."}),s.jsx("div",{className:"mt-6",children:s.jsx(o.default,{href:"/",className:"btn-primary",children:"콘텐츠 둘러보기"})})]})})]})})})})}},1212:(e,r,t)=>{"use strict";t.d(r,{Z:()=>d});var s=t(326),a=t(7577),l=t(1471),i=t(6226),n=t(434),o=t(4001);let d=({userId:e})=>{let{user:r}=(0,o.a)(),[t,d]=(0,a.useState)([]),[c,x]=(0,a.useState)(!0),[m,u]=(0,a.useState)(""),[h,p]=(0,a.useState)({});(0,a.useEffect)(()=>{e&&(async()=>{try{x(!0);let r=((await l.TV.getUserFollowing(e)).data||[]).map(e=>({...e,isFollowing:!0}));d(r),x(!1)}catch(e){console.error("Error fetching following:",e),u("팔로잉 목록을 불러오는데 실패했습니다."),x(!1)}})()},[e]);let f=async e=>{if(!h[e]&&r){p(r=>({...r,[e]:!0}));try{await l.TV.unfollowUser(e),d(r=>r.filter(r=>r.id!==e))}catch(e){console.error("Error unfollowing user:",e)}finally{p(r=>({...r,[e]:!1}))}}};return c?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-whale-600"})}):m?s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mt-4",children:s.jsx("p",{children:m})}):0===t.length?s.jsx("div",{className:"text-center py-10 text-gray-500",children:"팔로잉하는 사용자가 없습니다."}):s.jsx("div",{className:"space-y-4",children:t.map(t=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg shadow-sm hover:shadow-md transition",children:[(0,s.jsxs)(n.default,{href:`/user/${t.id}`,className:"flex items-center flex-grow",children:[s.jsx("div",{className:"relative w-12 h-12 rounded-full overflow-hidden bg-gray-200 mr-4",children:t.avatar?s.jsx(i.default,{src:t.avatar,alt:t.name||t.email,fill:!0,className:"object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:(t.name||t.email).charAt(0).toUpperCase()})}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"font-medium",children:t.name||t.email}),t.bio&&s.jsx("p",{className:"text-sm text-gray-500 line-clamp-1",children:t.bio}),!t.bio&&s.jsx("p",{className:"text-sm text-gray-500",children:t.email})]})]}),r&&r.id===e&&s.jsx("button",{onClick:()=>f(t.id),disabled:h[t.id],className:"ml-2 px-3 py-1 text-sm font-medium rounded-full text-gray-700 bg-gray-100 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-whale-500",children:h[t.id]?s.jsx("span",{className:"inline-block w-4 h-4 border-2 border-t-transparent border-gray-700 rounded-full animate-spin"}):"언팔로우"})]},t.id))})}},5282:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(8570).createProxy)(String.raw`/Users/richard_kim/bluewhale/bluewhale20250606/frontend/src/app/profile/page.tsx#default`)}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[792,434,226,566],()=>t(2225));module.exports=s})();