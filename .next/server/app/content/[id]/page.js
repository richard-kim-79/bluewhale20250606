(()=>{var e={};e.id=584,e.ids=[584],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},4505:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),r(7652),r(8586),r(5866);var t=r(3191),l=r(8716),a=r(7922),n=r.n(a),i=r(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(s,o);let c=["",{children:["content",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7652)),"/Users/richard_kim/bluewhale/bluewhale20250606/frontend/src/app/content/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,8586)),"/Users/richard_kim/bluewhale/bluewhale20250606/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/richard_kim/bluewhale/bluewhale20250606/frontend/src/app/content/[id]/page.tsx"],u="/content/[id]/page",x={require:r,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/content/[id]/page",pathname:"/content/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8188:(e,s,r)=>{Promise.resolve().then(r.bind(r,5847))},5847:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>m});var t=r(326),l=r(7577),a=r(5047),n=r(434),i=r(4001),o=r(1471),c=r(810),d=r.n(c);r(6793);let u=({location:e,zoom:s=15})=>{let r=(0,l.useRef)(null),a=(0,l.useRef)(null),n=(0,l.useRef)(null);return(0,l.useEffect)(()=>{if(!r.current)return;let t=process.env.NEXT_PUBLIC_MAPBOX_TOKEN;if(!t){console.error("Mapbox token is missing. Please add NEXT_PUBLIC_MAPBOX_TOKEN to your .env.local file.");return}if(d().accessToken=t,!a.current)return a.current=new(d()).Map({container:r.current,style:"mapbox://styles/mapbox/streets-v12",center:[e.lng,e.lat],zoom:s}),a.current.addControl(new(d()).NavigationControl,"top-right"),n.current=new(d()).Marker({color:"#3B82F6"}).setLngLat([e.lng,e.lat]).addTo(a.current),()=>{a.current&&(a.current.remove(),a.current=null)}},[e,s]),(0,l.useEffect)(()=>{a.current&&n.current&&(a.current.setCenter([e.lng,e.lat]),n.current.setLngLat([e.lng,e.lat]))},[e]),t.jsx("div",{className:"w-full h-full",ref:r,children:!process.env.NEXT_PUBLIC_MAPBOX_TOKEN&&t.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:t.jsx("p",{className:"text-gray-500",children:"Mapbox token is missing. Please add NEXT_PUBLIC_MAPBOX_TOKEN to your .env.local file."})})})};var x=r(6713);function m(){let e=(0,a.useParams)();e?.id,(0,a.useRouter)();let{isAuthenticated:s}=(0,i.a)(),[r,c]=(0,l.useState)(null),[d,m]=(0,l.useState)(!0),[h,p]=(0,l.useState)(""),[f,g]=(0,l.useState)(!1),[w,j]=(0,l.useState)(!1);if(d)return t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-whale-600"})});if(h)return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:[(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded max-w-md w-full",children:[t.jsx("p",{className:"font-bold",children:"오류 발생"}),t.jsx("p",{children:h})]}),t.jsx(n.default,{href:"/",className:"mt-4 text-blue-whale-600 hover:text-blue-whale-500",children:"홈으로 돌아가기"})]});if(!r)return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:[(0,t.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-700 px-4 py-3 rounded max-w-md w-full",children:[t.jsx("p",{className:"font-bold",children:"콘텐츠를 찾을 수 없습니다"}),t.jsx("p",{children:"요청하신 콘텐츠가 존재하지 않거나 삭제되었을 수 있습니다."})]}),t.jsx(n.default,{href:"/",className:"mt-4 text-blue-whale-600 hover:text-blue-whale-500",children:"홈으로 돌아가기"})]});let b=new Date(r.createdAt).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return t.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto",children:[t.jsx("div",{className:"mb-6",children:(0,t.jsxs)(n.default,{href:"/",className:"text-blue-whale-600 hover:text-blue-whale-500 flex items-center",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 mr-1",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})}),"홈으로 돌아가기"]})}),(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,t.jsxs)("div",{className:"lg:w-3/4",children:[t.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:r.title}),t.jsx("div",{className:`
                ${"pdf"===r.type?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}
                px-3 py-1 rounded-full text-sm font-medium
              `,children:"pdf"===r.type?"PDF":"TEXT"})]}),(0,t.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mb-6",children:[t.jsx("span",{className:"mr-3",children:r.author.email}),t.jsx("span",{className:"mr-3",children:"•"}),t.jsx("span",{children:b}),r.location&&(0,t.jsxs)(t.Fragment,{children:[t.jsx("span",{className:"mr-3",children:"•"}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-1",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"})]}),t.jsx("span",{children:"위치 정보 있음"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center mb-6",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 mr-2 text-blue-600",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z"})}),(0,t.jsxs)("span",{className:"text-blue-600 font-medium",children:["AI 참조 점수: ",r.aiScore]})]}),"pdf"===r.type?(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"요약"}),t.jsx("p",{className:"text-gray-600",children:r.summary})]}),t.jsx("div",{className:"mt-4",children:(0,t.jsxs)("a",{href:r.pdfUrl,target:"_blank",rel:"noopener noreferrer",className:"btn-primary inline-flex items-center",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 mr-2",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),"PDF 파일 보기"]})})]}):t.jsx("div",{className:"prose max-w-none mb-6",children:t.jsx("div",{className:"whitespace-pre-wrap",children:r.content})}),r.location&&(0,t.jsxs)("div",{className:"mt-8",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"위치 정보"}),t.jsx("div",{className:"h-64 rounded-lg overflow-hidden border border-gray-200",children:t.jsx(u,{location:r.location})})]})]})}),(0,t.jsxs)("div",{className:"mt-8 flex justify-between",children:[t.jsx(n.default,{href:"/",className:"btn-secondary",children:"홈으로"}),s&&(0,t.jsxs)("div",{className:"flex space-x-4",children:[(0,t.jsxs)("button",{className:"btn-secondary flex items-center",onClick:()=>{navigator.clipboard.writeText(window.location.href),alert("URL이 클립보드에 복사되었습니다.")},children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 mr-1",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 100 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186l9.566-5.314m-9.566 7.5l9.566 5.314m0 0a2.25 2.25 0 103.935 2.186 2.25 2.25 0 00-3.935-2.186zm0-12.814a2.25 2.25 0 103.933-2.185 2.25 2.25 0 00-3.933 2.185z"})}),"공유하기"]}),(0,t.jsxs)("button",{className:`btn-secondary flex items-center ${w?"opacity-50 cursor-not-allowed":""}`,onClick:async()=>{if(!w&&r){j(!0);try{f?(await o.gT.unsaveContent(r.id),g(!1)):(await o.gT.saveContent(r.id),g(!0))}catch(e){console.error("Error saving/unsaving content:",e),alert("콘텐츠 저장에 실패했습니다.")}finally{j(!1)}}},disabled:w,children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:f?"currentColor":"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 mr-1",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})}),f?"저장됨":"저장하기"]})]})]})]}),t.jsx("div",{className:"lg:w-1/4",children:s&&r?.author&&t.jsx(t.Fragment,{children:t.jsx(x.Z,{limit:5,title:"팔로우 추천",excludeUserId:r.author.id})})})]})]})})}},6713:(e,s,r)=>{"use strict";r.d(s,{Z:()=>c});var t=r(326),l=r(7577),a=r(1471),n=r(6226),i=r(434),o=r(4001);let c=({limit:e=3,title:s="팔로우 추천",excludeUserId:r})=>{let{isAuthenticated:c,user:d}=(0,o.a)(),[u,x]=(0,l.useState)([]),[m,h]=(0,l.useState)(!0),[p,f]=(0,l.useState)(""),[g,w]=(0,l.useState)({});(0,l.useEffect)(()=>{c&&(async()=>{try{h(!0);let s=(await a.TV.searchUsers("",{limit:e+5})).data||[];d?.id&&(s=s.filter(e=>e.id!==d.id)),r&&(s=s.filter(e=>e.id!==r)),s=s.slice(0,e),x(s),h(!1)}catch(e){console.error("Error fetching recommended users:",e),f("추천 사용자를 불러오는데 실패했습니다."),h(!1)}})()},[c,d?.id,e,r]);let j=async e=>{if(!g[e]){w(s=>({...s,[e]:!0}));try{let s=u.find(s=>s.id===e);if(!s)return;s.isFollowing?(await a.TV.unfollowUser(e),x(s=>s.map(s=>s.id===e?{...s,isFollowing:!1}:s))):(await a.TV.followUser(e),x(s=>s.map(s=>s.id===e?{...s,isFollowing:!0}:s)))}catch(e){console.error("Error toggling follow status:",e)}finally{w(s=>({...s,[e]:!1}))}}};return c?m?(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[t.jsx("h2",{className:"text-lg font-medium mb-4",children:s}),t.jsx("div",{className:"animate-pulse space-y-3",children:[...Array(e)].map((e,s)=>(0,t.jsxs)("div",{className:"flex space-x-4",children:[t.jsx("div",{className:"rounded-full bg-gray-200 h-10 w-10"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2 py-1",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},s))})]}):p?(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[t.jsx("h2",{className:"text-lg font-medium mb-4",children:s}),t.jsx("p",{className:"text-red-500 text-sm",children:p})]}):0===u.length?null:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[t.jsx("h2",{className:"text-lg font-medium mb-4",children:s}),(0,t.jsxs)("div",{className:"space-y-4",children:[u.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(i.default,{href:`/user/${e.id}`,className:"flex items-center flex-grow",children:[t.jsx("div",{className:"relative w-10 h-10 rounded-full overflow-hidden bg-gray-200 mr-3",children:e.avatar?t.jsx(n.default,{src:e.avatar,alt:e.name||e.email,fill:!0,className:"object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:(e.name||e.email).charAt(0).toUpperCase()})}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"font-medium text-sm",children:e.name||e.email}),e.bio?t.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[150px]",children:e.bio}):t.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[150px]",children:e.email})]})]}),t.jsx("button",{onClick:()=>j(e.id),disabled:g[e.id],className:`ml-2 px-3 py-1 text-xs font-medium rounded-full ${e.isFollowing?"text-gray-700 bg-gray-100 hover:bg-gray-200":"text-white bg-blue-whale-600 hover:bg-blue-whale-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-whale-500`,children:g[e.id]?t.jsx("span",{className:"inline-block w-4 h-4 border-2 border-t-transparent border-white rounded-full animate-spin"}):e.isFollowing?"팔로잉":"팔로우"})]},e.id)),t.jsx("div",{className:"pt-2 text-center",children:t.jsx(i.default,{href:"/search?tab=users",className:"text-sm text-blue-whale-600 hover:text-blue-whale-800",children:"더 많은 사용자 찾기"})})]})]}):null}},7652:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(8570).createProxy)(String.raw`/Users/richard_kim/bluewhale/bluewhale20250606/frontend/src/app/content/[id]/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[792,434,226,742,566],()=>r(4505));module.exports=t})();